//    background-image: linear-gradient(0deg, rgba(0,0,0,1) 0%, rgba(0,0,0,0) 20%), url(http://localhost:4000/images/img002.jpg);
@import "~compass-mixins-fixed/lib/animate";
$homebgcolor: black;
$slideLength: 0.4em;

@mixin welcomeAnim($i, $fadeTime, $pauseTime, $stagger, $totalTime) {
    @include keyframes(slideFade#{$i}) {
        0% {
            @include opacity(0);
            @include transform(translateY($slideLength));
        }

        #{($i * $stagger)/$totalTime * 100}% {
            @include opacity(0);
            @include transform(translateY($slideLength));
        }

        #{(($i * $stagger) + $fadeTime)/$totalTime * 100}% {
            @include opacity(1);
            @include transform(translateY(0));
        }

        #{(($i * $stagger) + $fadeTime + $pauseTime)/$totalTime * 100}% {
            @include opacity(1);
            @include transform(translateY(0));
        }

        #{(($i * $stagger) + ($fadeTime * 2) + $pauseTime)/$totalTime * 100}% {
            @include opacity(0);
            @include transform(translateY(-$slideLength));
        }

        100% {
            @include opacity(0);
            @include transform(translateY(-$slideLength));
        }
    }
}

.wrapper {
    display: grid;
    grid-template-columns: 1fr 3fr 1fr;
    grid-template-rows: 100vh minmax(50vh, auto);
}

.banner {
    grid-column-start: 1;
    grid-column-end: 4;
    grid-row-start: 1;
    grid-row-end: 2;
    background-image: linear-gradient(0deg, $homebgcolor 0%, rgba(0,0,0,0) 11%), url(http://localhost:4000/images/img002.jpg);
    background-repeat: no-repeat;
    background-size: cover;
    background-position: right bottom;
}

.welcome-col {
    grid-column-start: 2;
    grid-column-end: 2;
    grid-row-start: 1;
    grid-row-end: 2;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.welcome-block {
    position: relative;
    height: 10em;
    background-color: $homebgcolor;
    display: flex;
    justify-content: center;
    align-items: center;
}

.welcome-block h1 {
    color: white;
}

.welcome-block h1,
.welcome-block h1 > span {
    height: 100%;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.welcome-block h1 > span {
    position: absolute;
    opacity: 0;
//    animation: slideFade 4s linear forwards;
}

$childNum: 2;
$fadeTime: 0.5s;
$pauseTime: 1s;
$stagger: $pauseTime + ($fadeTime * 2);
$totalTime: $stagger * $childNum;

@for $i from 0 through $childNum {
    @include welcomeAnim($i, $fadeTime, $pauseTime, $stagger, $totalTime);
    .welcome-block h1 > span:nth-child(#{($i + 1)}) {
        animation: slideFade#{($i)} $totalTime infinite;
    }
}


.content {
    grid-column-start: 1;
    grid-column-end: 4;
    grid-row-start: 2;
    grid-row-end: 3;
    background-color: $homebgcolor;
}